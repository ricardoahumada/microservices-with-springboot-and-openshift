# Values for PROD environment
replicaCount: 3

image:
  repository: quay.io/mutualidad/notificacion-service
  tag: "1.0.0"
  pullPolicy: IfNotPresent

resources:
  limits:
    cpu: 2000m
    memory: 2Gi
  requests:
    cpu: 500m
    memory: 1Gi

env:
  SPRING_PROFILES_ACTIVE: prod
  JAVA_OPTS: "-Xms1g -Xmx1536m -XX:+UseG1GC"
  LOG_LEVEL: WARN

postgresql:
  enabled: true
  image:
    tag: "15"
  auth:
    existingSecret: "notificacion-postgresql-secret"
    database: "notificaciondb"
  primary:
    resources:
      limits:
        cpu: 1000m
        memory: 1Gi
    persistence:
      size: 20Gi

route:
  enabled: true
  host: notificacion.mutualidad.com
  tls:
    termination: edge
    insecureEdgeTerminationPolicy: Redirect

autoscaling:
  enabled: true
  minReplicas: 3
  maxReplicas: 10
  targetCPUUtilizationPercentage: 60

podDisruptionBudget:
  enabled: true
  minAvailable: 2
